{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 160,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.ensemble import RandomForestClassifier\n",
    "from sklearn.metrics import classification_report, roc_auc_score\n",
    "from sklearn.metrics import confusion_matrix\n",
    "from sklearn.metrics import average_precision_score"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 133,
   "metadata": {},
   "outputs": [],
   "source": [
    "def extract_metrics(y_true, y_pred, y_proba):\n",
    "    report = classification_report(y_true, y_pred, output_dict=True)\n",
    "    return {\n",
    "        \"AUC\": roc_auc_score(y_true, y_proba),\n",
    "        \"Precision\": report['weighted avg']['precision'],\n",
    "        \"Recall\": report['weighted avg']['recall'],\n",
    "        \"F1-Score\": report['weighted avg']['f1-score']\n",
    "    }"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 134,
   "metadata": {},
   "outputs": [],
   "source": [
    "def load_and_merge_data():\n",
    "    client_df = pd.read_csv('mkdir_data/client_data.csv')\n",
    "    price_df = pd.read_csv('mkdir_data/price_data.csv')\n",
    "\n",
    "    price_df['price_date'] = pd.to_datetime(price_df['price_date'])\n",
    "\n",
    "    # Aggregated price data (average)\n",
    "    avg_prices = price_df.groupby('id').mean(numeric_only=True).reset_index()\n",
    "    df_avg = pd.merge(client_df, avg_prices, on='id')\n",
    "\n",
    "    # Latest price data\n",
    "    latest_prices = price_df.sort_values('price_date').drop_duplicates('id', keep='last')\n",
    "    df_latest = pd.merge(client_df, latest_prices, on='id')\n",
    "\n",
    "    return df_avg, df_latest\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 135,
   "metadata": {},
   "outputs": [],
   "source": [
    "def engineer_features(df):\n",
    "    df = df.copy()\n",
    "    df['price_per_unit_energy_peak'] = df['price_peak_fix'] / (df['cons_12m'] + 1e-6)\n",
    "    df['price_spread'] = df['price_peak_fix'] - df['price_off_peak_fix']\n",
    "    df['price_sensitivity_score'] = df['price_spread'] * df['price_per_unit_energy_peak']\n",
    "    return df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 159,
   "metadata": {},
   "outputs": [],
   "source": [
    "def extract_metrics(y_true, y_pred, y_proba):\n",
    "    report = classification_report(y_true, y_pred, output_dict=True)\n",
    "    return {\n",
    "        \"AUC\": roc_auc_score(y_true, y_proba),\n",
    "        \"AUPRC\": average_precision_score(y_true, y_proba),\n",
    "        \"Precision\": report['weighted avg']['precision'],\n",
    "        \"Recall\": report['weighted avg']['recall'],\n",
    "        \"F1-Score\": report['weighted avg']['f1-score']\n",
    "    }"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 137,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "=== Average Price Model Evaluation ===\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.90      0.98      0.94      2617\n",
      "           1       0.21      0.05      0.08       305\n",
      "\n",
      "    accuracy                           0.88      2922\n",
      "   macro avg       0.56      0.51      0.51      2922\n",
      "weighted avg       0.83      0.88      0.85      2922\n",
      "\n",
      "AUC Score: 0.5442654271879327\n",
      "\n",
      "=== Latest Price Model Evaluation ===\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.90      0.96      0.93      2617\n",
      "           1       0.17      0.07      0.10       305\n",
      "\n",
      "    accuracy                           0.87      2922\n",
      "   macro avg       0.54      0.52      0.51      2922\n",
      "weighted avg       0.82      0.87      0.84      2922\n",
      "\n",
      "AUC Score: 0.5565295013060882\n",
      "\n",
      "=== Model Performance Comparison ===\n",
      "        Model      AUC  Precision   Recall  F1-Score\n",
      "Average Price 0.544265   0.826973 0.880903  0.847368\n",
      " Latest Price 0.556530   0.822926 0.868583  0.842434\n"
     ]
    }
   ],
   "source": [
    "def train_and_evaluate(df, label=''):\n",
    "    features = ['price_per_unit_energy_peak', 'price_spread', 'price_sensitivity_score']\n",
    "    target = 'churn'\n",
    "\n",
    "    df = df.dropna(subset=features + [target])\n",
    "    X = df[features]\n",
    "    y = df[target]\n",
    "\n",
    "    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n",
    "\n",
    "    model = RandomForestClassifier(random_state=42)\n",
    "    model.fit(X_train, y_train)\n",
    "\n",
    "    y_pred = model.predict(X_test)\n",
    "    y_proba = model.predict_proba(X_test)[:, 1]\n",
    "\n",
    "    print(f\"\\n=== {label} Model Evaluation ===\")\n",
    "    print(classification_report(y_test, y_pred))\n",
    "    print(\"AUC Score:\", roc_auc_score(y_test, y_proba))\n",
    "\n",
    "    return extract_metrics(y_test, y_pred, y_proba)\n",
    "\n",
    "def main():\n",
    "    df_avg, df_latest = load_and_merge_data()\n",
    "\n",
    "    df_avg = engineer_features(df_avg)\n",
    "    df_latest = engineer_features(df_latest)\n",
    "\n",
    "    metrics_avg = train_and_evaluate(df_avg, label=\"Average Price\")\n",
    "    metrics_latest = train_and_evaluate(df_latest, label=\"Latest Price\")\n",
    "\n",
    "    # Summary table\n",
    "    results_df = pd.DataFrame([\n",
    "        {\"Model\": \"Average Price\", **metrics_avg},\n",
    "        {\"Model\": \"Latest Price\", **metrics_latest}\n",
    "    ])\n",
    "    print(\"\\n=== Model Performance Comparison ===\")\n",
    "    print(results_df.to_string(index=False))\n",
    "\n",
    "if __name__ == \"__main__\":\n",
    "    main()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 138,
   "metadata": {},
   "outputs": [],
   "source": [
    "client_df = pd.read_csv('mkdir_data/client_data.csv')\n",
    "price_df = pd.read_csv('mkdir_data/price_data.csv')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 139,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Client Data Overview:\n",
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 14606 entries, 0 to 14605\n",
      "Data columns (total 26 columns):\n",
      " #   Column                          Non-Null Count  Dtype  \n",
      "---  ------                          --------------  -----  \n",
      " 0   id                              14606 non-null  object \n",
      " 1   channel_sales                   14606 non-null  object \n",
      " 2   cons_12m                        14606 non-null  int64  \n",
      " 3   cons_gas_12m                    14606 non-null  int64  \n",
      " 4   cons_last_month                 14606 non-null  int64  \n",
      " 5   date_activ                      14606 non-null  object \n",
      " 6   date_end                        14606 non-null  object \n",
      " 7   date_modif_prod                 14606 non-null  object \n",
      " 8   date_renewal                    14606 non-null  object \n",
      " 9   forecast_cons_12m               14606 non-null  float64\n",
      " 10  forecast_cons_year              14606 non-null  int64  \n",
      " 11  forecast_discount_energy        14606 non-null  float64\n",
      " 12  forecast_meter_rent_12m         14606 non-null  float64\n",
      " 13  forecast_price_energy_off_peak  14606 non-null  float64\n",
      " 14  forecast_price_energy_peak      14606 non-null  float64\n",
      " 15  forecast_price_pow_off_peak     14606 non-null  float64\n",
      " 16  has_gas                         14606 non-null  object \n",
      " 17  imp_cons                        14606 non-null  float64\n",
      " 18  margin_gross_pow_ele            14606 non-null  float64\n",
      " 19  margin_net_pow_ele              14606 non-null  float64\n",
      " 20  nb_prod_act                     14606 non-null  int64  \n",
      " 21  net_margin                      14606 non-null  float64\n",
      " 22  num_years_antig                 14606 non-null  int64  \n",
      " 23  origin_up                       14606 non-null  object \n",
      " 24  pow_max                         14606 non-null  float64\n",
      " 25  churn                           14606 non-null  int64  \n",
      "dtypes: float64(11), int64(7), object(8)\n",
      "memory usage: 2.9+ MB\n",
      "None\n",
      "           cons_12m  cons_gas_12m  cons_last_month  forecast_cons_12m  \\\n",
      "count  1.460600e+04  1.460600e+04     14606.000000       14606.000000   \n",
      "mean   1.592203e+05  2.809238e+04     16090.269752        1868.614880   \n",
      "std    5.734653e+05  1.629731e+05     64364.196422        2387.571531   \n",
      "min    0.000000e+00  0.000000e+00         0.000000           0.000000   \n",
      "25%    5.674750e+03  0.000000e+00         0.000000         494.995000   \n",
      "50%    1.411550e+04  0.000000e+00       792.500000        1112.875000   \n",
      "75%    4.076375e+04  0.000000e+00      3383.000000        2401.790000   \n",
      "max    6.207104e+06  4.154590e+06    771203.000000       82902.830000   \n",
      "\n",
      "       forecast_cons_year  forecast_discount_energy  forecast_meter_rent_12m  \\\n",
      "count        14606.000000              14606.000000             14606.000000   \n",
      "mean          1399.762906                  0.966726                63.086871   \n",
      "std           3247.786255                  5.108289                66.165783   \n",
      "min              0.000000                  0.000000                 0.000000   \n",
      "25%              0.000000                  0.000000                16.180000   \n",
      "50%            314.000000                  0.000000                18.795000   \n",
      "75%           1745.750000                  0.000000               131.030000   \n",
      "max         175375.000000                 30.000000               599.310000   \n",
      "\n",
      "       forecast_price_energy_off_peak  forecast_price_energy_peak  \\\n",
      "count                    14606.000000                14606.000000   \n",
      "mean                         0.137283                    0.050491   \n",
      "std                          0.024623                    0.049037   \n",
      "min                          0.000000                    0.000000   \n",
      "25%                          0.116340                    0.000000   \n",
      "50%                          0.143166                    0.084138   \n",
      "75%                          0.146348                    0.098837   \n",
      "max                          0.273963                    0.195975   \n",
      "\n",
      "       forecast_price_pow_off_peak      imp_cons  margin_gross_pow_ele  \\\n",
      "count                 14606.000000  14606.000000          14606.000000   \n",
      "mean                     43.130056    152.786896             24.565121   \n",
      "std                       4.485988    341.369366             20.231172   \n",
      "min                       0.000000      0.000000              0.000000   \n",
      "25%                      40.606701      0.000000             14.280000   \n",
      "50%                      44.311378     37.395000             21.640000   \n",
      "75%                      44.311378    193.980000             29.880000   \n",
      "max                      59.266378  15042.790000            374.640000   \n",
      "\n",
      "       margin_net_pow_ele   nb_prod_act    net_margin  num_years_antig  \\\n",
      "count        14606.000000  14606.000000  14606.000000     14606.000000   \n",
      "mean            24.562517      1.292346    189.264522         4.997809   \n",
      "std             20.230280      0.709774    311.798130         1.611749   \n",
      "min              0.000000      1.000000      0.000000         1.000000   \n",
      "25%             14.280000      1.000000     50.712500         4.000000   \n",
      "50%             21.640000      1.000000    112.530000         5.000000   \n",
      "75%             29.880000      1.000000    243.097500         6.000000   \n",
      "max            374.640000     32.000000  24570.650000        13.000000   \n",
      "\n",
      "            pow_max         churn  \n",
      "count  14606.000000  14606.000000  \n",
      "mean      18.135136      0.097152  \n",
      "std       13.534743      0.296175  \n",
      "min        3.300000      0.000000  \n",
      "25%       12.500000      0.000000  \n",
      "50%       13.856000      0.000000  \n",
      "75%       19.172500      0.000000  \n",
      "max      320.000000      1.000000  \n",
      "\n",
      "Price Data Overview:\n",
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 193002 entries, 0 to 193001\n",
      "Data columns (total 8 columns):\n",
      " #   Column              Non-Null Count   Dtype  \n",
      "---  ------              --------------   -----  \n",
      " 0   id                  193002 non-null  object \n",
      " 1   price_date          193002 non-null  object \n",
      " 2   price_off_peak_var  193002 non-null  float64\n",
      " 3   price_peak_var      193002 non-null  float64\n",
      " 4   price_mid_peak_var  193002 non-null  float64\n",
      " 5   price_off_peak_fix  193002 non-null  float64\n",
      " 6   price_peak_fix      193002 non-null  float64\n",
      " 7   price_mid_peak_fix  193002 non-null  float64\n",
      "dtypes: float64(6), object(2)\n",
      "memory usage: 11.8+ MB\n",
      "None\n",
      "       price_off_peak_var  price_peak_var  price_mid_peak_var  \\\n",
      "count       193002.000000   193002.000000       193002.000000   \n",
      "mean             0.141027        0.054630            0.030496   \n",
      "std              0.025032        0.049924            0.036298   \n",
      "min              0.000000        0.000000            0.000000   \n",
      "25%              0.125976        0.000000            0.000000   \n",
      "50%              0.146033        0.085483            0.000000   \n",
      "75%              0.151635        0.101673            0.072558   \n",
      "max              0.280700        0.229788            0.114102   \n",
      "\n",
      "       price_off_peak_fix  price_peak_fix  price_mid_peak_fix  \n",
      "count       193002.000000   193002.000000       193002.000000  \n",
      "mean            43.334477       10.622875            6.409984  \n",
      "std              5.410297       12.841895            7.773592  \n",
      "min              0.000000        0.000000            0.000000  \n",
      "25%             40.728885        0.000000            0.000000  \n",
      "50%             44.266930        0.000000            0.000000  \n",
      "75%             44.444710       24.339581           16.226389  \n",
      "max             59.444710       36.490692           17.458221  \n"
     ]
    }
   ],
   "source": [
    "print(\"Client Data Overview:\")\n",
    "print(client_df.info())\n",
    "print(client_df.describe())\n",
    "\n",
    "print(\"\\nPrice Data Overview:\")\n",
    "print(price_df.info())\n",
    "print(price_df.describe())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 140,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Client Data Columns: ['id', 'channel_sales', 'cons_12m', 'cons_gas_12m', 'cons_last_month', 'date_activ', 'date_end', 'date_modif_prod', 'date_renewal', 'forecast_cons_12m', 'forecast_cons_year', 'forecast_discount_energy', 'forecast_meter_rent_12m', 'forecast_price_energy_off_peak', 'forecast_price_energy_peak', 'forecast_price_pow_off_peak', 'has_gas', 'imp_cons', 'margin_gross_pow_ele', 'margin_net_pow_ele', 'nb_prod_act', 'net_margin', 'num_years_antig', 'origin_up', 'pow_max', 'churn']\n",
      "Price Data Columns: ['id', 'price_date', 'price_off_peak_var', 'price_peak_var', 'price_mid_peak_var', 'price_off_peak_fix', 'price_peak_fix', 'price_mid_peak_fix']\n"
     ]
    }
   ],
   "source": [
    "print(\"Client Data Columns:\", client_df.columns.tolist())\n",
    "print(\"Price Data Columns:\", price_df.columns.tolist())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 141,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Merge using 'id' column\n",
    "df = pd.merge(client_df, price_df, on='id')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 142,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Shape after merging with average prices: (14606, 32)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>id</th>\n",
       "      <th>channel_sales</th>\n",
       "      <th>cons_12m</th>\n",
       "      <th>cons_gas_12m</th>\n",
       "      <th>cons_last_month</th>\n",
       "      <th>date_activ</th>\n",
       "      <th>date_end</th>\n",
       "      <th>date_modif_prod</th>\n",
       "      <th>date_renewal</th>\n",
       "      <th>forecast_cons_12m</th>\n",
       "      <th>...</th>\n",
       "      <th>num_years_antig</th>\n",
       "      <th>origin_up</th>\n",
       "      <th>pow_max</th>\n",
       "      <th>churn</th>\n",
       "      <th>price_off_peak_var</th>\n",
       "      <th>price_peak_var</th>\n",
       "      <th>price_mid_peak_var</th>\n",
       "      <th>price_off_peak_fix</th>\n",
       "      <th>price_peak_fix</th>\n",
       "      <th>price_mid_peak_fix</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>24011ae4ebbe3035111d65fa7c15bc57</td>\n",
       "      <td>foosdfpfkusacimwkcsosbicdxkicaua</td>\n",
       "      <td>0</td>\n",
       "      <td>54946</td>\n",
       "      <td>0</td>\n",
       "      <td>2013-06-15</td>\n",
       "      <td>2016-06-15</td>\n",
       "      <td>2015-11-01</td>\n",
       "      <td>2015-06-23</td>\n",
       "      <td>0.00</td>\n",
       "      <td>...</td>\n",
       "      <td>3</td>\n",
       "      <td>lxidpiddsbxsbosboudacockeimpuepw</td>\n",
       "      <td>43.648</td>\n",
       "      <td>1</td>\n",
       "      <td>0.124787</td>\n",
       "      <td>0.100749</td>\n",
       "      <td>0.066530</td>\n",
       "      <td>40.942265</td>\n",
       "      <td>22.352010</td>\n",
       "      <td>14.901340</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>d29c2c54acc38ff3c0614d0a653813dd</td>\n",
       "      <td>MISSING</td>\n",
       "      <td>4660</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2009-08-21</td>\n",
       "      <td>2016-08-30</td>\n",
       "      <td>2009-08-21</td>\n",
       "      <td>2015-08-31</td>\n",
       "      <td>189.95</td>\n",
       "      <td>...</td>\n",
       "      <td>6</td>\n",
       "      <td>kamkkxfxxuwbdslkwifmmcsiusiuosws</td>\n",
       "      <td>13.800</td>\n",
       "      <td>0</td>\n",
       "      <td>0.149609</td>\n",
       "      <td>0.007124</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>44.311375</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>764c75f661154dac3a6c254cd082ea7d</td>\n",
       "      <td>foosdfpfkusacimwkcsosbicdxkicaua</td>\n",
       "      <td>544</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2010-04-16</td>\n",
       "      <td>2016-04-16</td>\n",
       "      <td>2010-04-16</td>\n",
       "      <td>2015-04-17</td>\n",
       "      <td>47.96</td>\n",
       "      <td>...</td>\n",
       "      <td>6</td>\n",
       "      <td>kamkkxfxxuwbdslkwifmmcsiusiuosws</td>\n",
       "      <td>13.856</td>\n",
       "      <td>0</td>\n",
       "      <td>0.170512</td>\n",
       "      <td>0.088421</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>44.385450</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>bba03439a292a1e166f80264c16191cb</td>\n",
       "      <td>lmkebamcaaclubfxadlmueccxoimlema</td>\n",
       "      <td>1584</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2010-03-30</td>\n",
       "      <td>2016-03-30</td>\n",
       "      <td>2010-03-30</td>\n",
       "      <td>2015-03-31</td>\n",
       "      <td>240.04</td>\n",
       "      <td>...</td>\n",
       "      <td>6</td>\n",
       "      <td>kamkkxfxxuwbdslkwifmmcsiusiuosws</td>\n",
       "      <td>13.200</td>\n",
       "      <td>0</td>\n",
       "      <td>0.151210</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>44.400265</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>149d57cf92fc41cf94415803a877cb4b</td>\n",
       "      <td>MISSING</td>\n",
       "      <td>4425</td>\n",
       "      <td>0</td>\n",
       "      <td>526</td>\n",
       "      <td>2010-01-13</td>\n",
       "      <td>2016-03-07</td>\n",
       "      <td>2010-01-13</td>\n",
       "      <td>2015-03-09</td>\n",
       "      <td>445.75</td>\n",
       "      <td>...</td>\n",
       "      <td>6</td>\n",
       "      <td>kamkkxfxxuwbdslkwifmmcsiusiuosws</td>\n",
       "      <td>19.800</td>\n",
       "      <td>0</td>\n",
       "      <td>0.124174</td>\n",
       "      <td>0.103638</td>\n",
       "      <td>0.072865</td>\n",
       "      <td>40.688156</td>\n",
       "      <td>24.412893</td>\n",
       "      <td>16.275263</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 32 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                 id                     channel_sales  \\\n",
       "0  24011ae4ebbe3035111d65fa7c15bc57  foosdfpfkusacimwkcsosbicdxkicaua   \n",
       "1  d29c2c54acc38ff3c0614d0a653813dd                           MISSING   \n",
       "2  764c75f661154dac3a6c254cd082ea7d  foosdfpfkusacimwkcsosbicdxkicaua   \n",
       "3  bba03439a292a1e166f80264c16191cb  lmkebamcaaclubfxadlmueccxoimlema   \n",
       "4  149d57cf92fc41cf94415803a877cb4b                           MISSING   \n",
       "\n",
       "   cons_12m  cons_gas_12m  cons_last_month  date_activ    date_end  \\\n",
       "0         0         54946                0  2013-06-15  2016-06-15   \n",
       "1      4660             0                0  2009-08-21  2016-08-30   \n",
       "2       544             0                0  2010-04-16  2016-04-16   \n",
       "3      1584             0                0  2010-03-30  2016-03-30   \n",
       "4      4425             0              526  2010-01-13  2016-03-07   \n",
       "\n",
       "  date_modif_prod date_renewal  forecast_cons_12m  ...  num_years_antig  \\\n",
       "0      2015-11-01   2015-06-23               0.00  ...                3   \n",
       "1      2009-08-21   2015-08-31             189.95  ...                6   \n",
       "2      2010-04-16   2015-04-17              47.96  ...                6   \n",
       "3      2010-03-30   2015-03-31             240.04  ...                6   \n",
       "4      2010-01-13   2015-03-09             445.75  ...                6   \n",
       "\n",
       "                          origin_up  pow_max  churn  price_off_peak_var  \\\n",
       "0  lxidpiddsbxsbosboudacockeimpuepw   43.648      1            0.124787   \n",
       "1  kamkkxfxxuwbdslkwifmmcsiusiuosws   13.800      0            0.149609   \n",
       "2  kamkkxfxxuwbdslkwifmmcsiusiuosws   13.856      0            0.170512   \n",
       "3  kamkkxfxxuwbdslkwifmmcsiusiuosws   13.200      0            0.151210   \n",
       "4  kamkkxfxxuwbdslkwifmmcsiusiuosws   19.800      0            0.124174   \n",
       "\n",
       "   price_peak_var price_mid_peak_var  price_off_peak_fix  price_peak_fix  \\\n",
       "0        0.100749           0.066530           40.942265       22.352010   \n",
       "1        0.007124           0.000000           44.311375        0.000000   \n",
       "2        0.088421           0.000000           44.385450        0.000000   \n",
       "3        0.000000           0.000000           44.400265        0.000000   \n",
       "4        0.103638           0.072865           40.688156       24.412893   \n",
       "\n",
       "   price_mid_peak_fix  \n",
       "0           14.901340  \n",
       "1            0.000000  \n",
       "2            0.000000  \n",
       "3            0.000000  \n",
       "4           16.275263  \n",
       "\n",
       "[5 rows x 32 columns]"
      ]
     },
     "execution_count": 142,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Option 1: Group by 'id' and calculate average prices per customer\n",
    "avg_prices = price_df.groupby('id').mean(numeric_only=True).reset_index()\n",
    "\n",
    "# Merge with client_df\n",
    "df_avg = pd.merge(client_df, avg_prices, on='id')\n",
    "\n",
    "print(\"Shape after merging with average prices:\", df_avg.shape)\n",
    "df_avg.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 143,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Shape after merging with latest prices: (14606, 33)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>id</th>\n",
       "      <th>channel_sales</th>\n",
       "      <th>cons_12m</th>\n",
       "      <th>cons_gas_12m</th>\n",
       "      <th>cons_last_month</th>\n",
       "      <th>date_activ</th>\n",
       "      <th>date_end</th>\n",
       "      <th>date_modif_prod</th>\n",
       "      <th>date_renewal</th>\n",
       "      <th>forecast_cons_12m</th>\n",
       "      <th>...</th>\n",
       "      <th>origin_up</th>\n",
       "      <th>pow_max</th>\n",
       "      <th>churn</th>\n",
       "      <th>price_date</th>\n",
       "      <th>price_off_peak_var</th>\n",
       "      <th>price_peak_var</th>\n",
       "      <th>price_mid_peak_var</th>\n",
       "      <th>price_off_peak_fix</th>\n",
       "      <th>price_peak_fix</th>\n",
       "      <th>price_mid_peak_fix</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>24011ae4ebbe3035111d65fa7c15bc57</td>\n",
       "      <td>foosdfpfkusacimwkcsosbicdxkicaua</td>\n",
       "      <td>0</td>\n",
       "      <td>54946</td>\n",
       "      <td>0</td>\n",
       "      <td>2013-06-15</td>\n",
       "      <td>2016-06-15</td>\n",
       "      <td>2015-11-01</td>\n",
       "      <td>2015-06-23</td>\n",
       "      <td>0.00</td>\n",
       "      <td>...</td>\n",
       "      <td>lxidpiddsbxsbosboudacockeimpuepw</td>\n",
       "      <td>43.648</td>\n",
       "      <td>1</td>\n",
       "      <td>2015-12-01</td>\n",
       "      <td>0.146033</td>\n",
       "      <td>0.085483</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>44.266930</td>\n",
       "      <td>0.00000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>d29c2c54acc38ff3c0614d0a653813dd</td>\n",
       "      <td>MISSING</td>\n",
       "      <td>4660</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2009-08-21</td>\n",
       "      <td>2016-08-30</td>\n",
       "      <td>2009-08-21</td>\n",
       "      <td>2015-08-31</td>\n",
       "      <td>189.95</td>\n",
       "      <td>...</td>\n",
       "      <td>kamkkxfxxuwbdslkwifmmcsiusiuosws</td>\n",
       "      <td>13.800</td>\n",
       "      <td>0</td>\n",
       "      <td>2015-12-01</td>\n",
       "      <td>0.147600</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>44.444710</td>\n",
       "      <td>0.00000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>764c75f661154dac3a6c254cd082ea7d</td>\n",
       "      <td>foosdfpfkusacimwkcsosbicdxkicaua</td>\n",
       "      <td>544</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2010-04-16</td>\n",
       "      <td>2016-04-16</td>\n",
       "      <td>2010-04-16</td>\n",
       "      <td>2015-04-17</td>\n",
       "      <td>47.96</td>\n",
       "      <td>...</td>\n",
       "      <td>kamkkxfxxuwbdslkwifmmcsiusiuosws</td>\n",
       "      <td>13.856</td>\n",
       "      <td>0</td>\n",
       "      <td>2015-12-01</td>\n",
       "      <td>0.167798</td>\n",
       "      <td>0.088409</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>44.444710</td>\n",
       "      <td>0.00000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>bba03439a292a1e166f80264c16191cb</td>\n",
       "      <td>lmkebamcaaclubfxadlmueccxoimlema</td>\n",
       "      <td>1584</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2010-03-30</td>\n",
       "      <td>2016-03-30</td>\n",
       "      <td>2010-03-30</td>\n",
       "      <td>2015-03-31</td>\n",
       "      <td>240.04</td>\n",
       "      <td>...</td>\n",
       "      <td>kamkkxfxxuwbdslkwifmmcsiusiuosws</td>\n",
       "      <td>13.200</td>\n",
       "      <td>0</td>\n",
       "      <td>2015-12-01</td>\n",
       "      <td>0.148586</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>44.444710</td>\n",
       "      <td>0.00000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>149d57cf92fc41cf94415803a877cb4b</td>\n",
       "      <td>MISSING</td>\n",
       "      <td>4425</td>\n",
       "      <td>0</td>\n",
       "      <td>526</td>\n",
       "      <td>2010-01-13</td>\n",
       "      <td>2016-03-07</td>\n",
       "      <td>2010-01-13</td>\n",
       "      <td>2015-03-09</td>\n",
       "      <td>445.75</td>\n",
       "      <td>...</td>\n",
       "      <td>kamkkxfxxuwbdslkwifmmcsiusiuosws</td>\n",
       "      <td>19.800</td>\n",
       "      <td>0</td>\n",
       "      <td>2015-12-01</td>\n",
       "      <td>0.119906</td>\n",
       "      <td>0.101673</td>\n",
       "      <td>0.073719</td>\n",
       "      <td>40.728885</td>\n",
       "      <td>24.43733</td>\n",
       "      <td>16.291555</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 33 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                 id                     channel_sales  \\\n",
       "0  24011ae4ebbe3035111d65fa7c15bc57  foosdfpfkusacimwkcsosbicdxkicaua   \n",
       "1  d29c2c54acc38ff3c0614d0a653813dd                           MISSING   \n",
       "2  764c75f661154dac3a6c254cd082ea7d  foosdfpfkusacimwkcsosbicdxkicaua   \n",
       "3  bba03439a292a1e166f80264c16191cb  lmkebamcaaclubfxadlmueccxoimlema   \n",
       "4  149d57cf92fc41cf94415803a877cb4b                           MISSING   \n",
       "\n",
       "   cons_12m  cons_gas_12m  cons_last_month  date_activ    date_end  \\\n",
       "0         0         54946                0  2013-06-15  2016-06-15   \n",
       "1      4660             0                0  2009-08-21  2016-08-30   \n",
       "2       544             0                0  2010-04-16  2016-04-16   \n",
       "3      1584             0                0  2010-03-30  2016-03-30   \n",
       "4      4425             0              526  2010-01-13  2016-03-07   \n",
       "\n",
       "  date_modif_prod date_renewal  forecast_cons_12m  ...  \\\n",
       "0      2015-11-01   2015-06-23               0.00  ...   \n",
       "1      2009-08-21   2015-08-31             189.95  ...   \n",
       "2      2010-04-16   2015-04-17              47.96  ...   \n",
       "3      2010-03-30   2015-03-31             240.04  ...   \n",
       "4      2010-01-13   2015-03-09             445.75  ...   \n",
       "\n",
       "                          origin_up  pow_max  churn  price_date  \\\n",
       "0  lxidpiddsbxsbosboudacockeimpuepw   43.648      1  2015-12-01   \n",
       "1  kamkkxfxxuwbdslkwifmmcsiusiuosws   13.800      0  2015-12-01   \n",
       "2  kamkkxfxxuwbdslkwifmmcsiusiuosws   13.856      0  2015-12-01   \n",
       "3  kamkkxfxxuwbdslkwifmmcsiusiuosws   13.200      0  2015-12-01   \n",
       "4  kamkkxfxxuwbdslkwifmmcsiusiuosws   19.800      0  2015-12-01   \n",
       "\n",
       "   price_off_peak_var  price_peak_var price_mid_peak_var  price_off_peak_fix  \\\n",
       "0            0.146033        0.085483           0.000000           44.266930   \n",
       "1            0.147600        0.000000           0.000000           44.444710   \n",
       "2            0.167798        0.088409           0.000000           44.444710   \n",
       "3            0.148586        0.000000           0.000000           44.444710   \n",
       "4            0.119906        0.101673           0.073719           40.728885   \n",
       "\n",
       "   price_peak_fix  price_mid_peak_fix  \n",
       "0         0.00000            0.000000  \n",
       "1         0.00000            0.000000  \n",
       "2         0.00000            0.000000  \n",
       "3         0.00000            0.000000  \n",
       "4        24.43733           16.291555  \n",
       "\n",
       "[5 rows x 33 columns]"
      ]
     },
     "execution_count": 143,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Option 2: Convert price_date to datetime\n",
    "price_df['price_date'] = pd.to_datetime(price_df['price_date'])\n",
    "\n",
    "# Sort by price_date and keep only the last entry for each id\n",
    "latest_prices = price_df.sort_values('price_date').drop_duplicates('id', keep='last')\n",
    "\n",
    "# Merge with client_df\n",
    "df_latest = pd.merge(client_df, latest_prices, on='id')\n",
    "\n",
    "print(\"Shape after merging with latest prices:\", df_latest.shape)\n",
    "df_latest.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 144,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Average Price DataFrame shape: (14606, 32)\n",
      "Latest Price DataFrame shape: (14606, 33)\n"
     ]
    }
   ],
   "source": [
    "print(\"Average Price DataFrame shape:\", df_avg.shape)\n",
    "print(\"Latest Price DataFrame shape:\", df_latest.shape)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 145,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>price_per_unit_energy_peak</th>\n",
       "      <th>price_spread</th>\n",
       "      <th>price_sensitivity_score</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2.235201e+07</td>\n",
       "      <td>-18.590255</td>\n",
       "      <td>-4.155296e+08</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>-44.311375</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>-44.385450</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>-44.400265</td>\n",
       "      <td>-0.000000e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5.517038e-03</td>\n",
       "      <td>-16.275263</td>\n",
       "      <td>-8.979124e-02</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   price_per_unit_energy_peak  price_spread  price_sensitivity_score\n",
       "0                2.235201e+07    -18.590255            -4.155296e+08\n",
       "1                0.000000e+00    -44.311375            -0.000000e+00\n",
       "2                0.000000e+00    -44.385450            -0.000000e+00\n",
       "3                0.000000e+00    -44.400265            -0.000000e+00\n",
       "4                5.517038e-03    -16.275263            -8.979124e-02"
      ]
     },
     "execution_count": 145,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Create price-based features\n",
    "df_avg['price_per_unit_energy_peak'] = df_avg['price_peak_fix'] / (df_avg['cons_12m'] + 1e-6)\n",
    "df_avg['price_spread'] = df_avg['price_peak_fix'] - df_avg['price_off_peak_fix']\n",
    "df_avg['price_sensitivity_score'] = df_avg['price_spread'] * df_avg['price_per_unit_energy_peak']\n",
    "\n",
    "# Preview engineered features\n",
    "df_avg[['price_per_unit_energy_peak', 'price_spread', 'price_sensitivity_score']].head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 146,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>price_per_unit_energy_peak</th>\n",
       "      <th>price_spread</th>\n",
       "      <th>price_sensitivity_score</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>-44.266930</td>\n",
       "      <td>-0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>-44.444710</td>\n",
       "      <td>-0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>-44.444710</td>\n",
       "      <td>-0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>-44.444710</td>\n",
       "      <td>-0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.005523</td>\n",
       "      <td>-16.291555</td>\n",
       "      <td>-0.089971</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   price_per_unit_energy_peak  price_spread  price_sensitivity_score\n",
       "0                    0.000000    -44.266930                -0.000000\n",
       "1                    0.000000    -44.444710                -0.000000\n",
       "2                    0.000000    -44.444710                -0.000000\n",
       "3                    0.000000    -44.444710                -0.000000\n",
       "4                    0.005523    -16.291555                -0.089971"
      ]
     },
     "execution_count": 146,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Create price-based features\n",
    "df_latest['price_per_unit_energy_peak'] = df_latest['price_peak_fix'] / (df_latest['cons_12m'] + 1e-6)\n",
    "df_latest['price_spread'] = df_latest['price_peak_fix'] - df_latest['price_off_peak_fix']\n",
    "df_latest['price_sensitivity_score'] = df_latest['price_spread'] * df_latest['price_per_unit_energy_peak']\n",
    "\n",
    "# Preview engineered features\n",
    "df_latest[['price_per_unit_energy_peak', 'price_spread', 'price_sensitivity_score']].head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 147,
   "metadata": {},
   "outputs": [],
   "source": [
    "features = ['price_per_unit_energy_peak', 'price_spread', 'price_sensitivity_score']\n",
    "target = 'churn'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 148,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "=== Evaluation: Average Price Features ===\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.90      0.98      0.94      2617\n",
      "           1       0.21      0.05      0.08       305\n",
      "\n",
      "    accuracy                           0.88      2922\n",
      "   macro avg       0.56      0.51      0.51      2922\n",
      "weighted avg       0.83      0.88      0.85      2922\n",
      "\n",
      "AUC Score: 0.5442654271879327\n"
     ]
    }
   ],
   "source": [
    "# Drop NaNs (if any)\n",
    "df_avg_model = df_avg.dropna(subset=features + [target])\n",
    "\n",
    "# Split\n",
    "X_avg = df_avg_model[features]\n",
    "y_avg = df_avg_model[target]\n",
    "X_train_avg, X_test_avg, y_train_avg, y_test_avg = train_test_split(X_avg, y_avg, test_size=0.2, random_state=42)\n",
    "\n",
    "# Train model\n",
    "model_avg = RandomForestClassifier(random_state=42)\n",
    "model_avg.fit(X_train_avg, y_train_avg)\n",
    "\n",
    "# Predict\n",
    "y_pred_avg = model_avg.predict(X_test_avg)\n",
    "y_proba_avg = model_avg.predict_proba(X_test_avg)[:, 1]\n",
    "\n",
    "# Evaluate\n",
    "print(\"=== Evaluation: Average Price Features ===\")\n",
    "print(classification_report(y_test_avg, y_pred_avg))\n",
    "print(\"AUC Score:\", roc_auc_score(y_test_avg, y_proba_avg))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 149,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "=== Evaluation: Latest Price Features ===\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.90      0.96      0.93      2617\n",
      "           1       0.17      0.07      0.10       305\n",
      "\n",
      "    accuracy                           0.87      2922\n",
      "   macro avg       0.54      0.52      0.51      2922\n",
      "weighted avg       0.82      0.87      0.84      2922\n",
      "\n",
      "AUC Score: 0.5565295013060882\n"
     ]
    }
   ],
   "source": [
    "# Drop NaNs (if any)\n",
    "df_latest_model = df_latest.dropna(subset=features + [target])\n",
    "\n",
    "# Split\n",
    "X_latest = df_latest_model[features]\n",
    "y_latest = df_latest_model[target]\n",
    "X_train_latest, X_test_latest, y_train_latest, y_test_latest = train_test_split(X_latest, y_latest, test_size=0.2, random_state=42)\n",
    "\n",
    "# Train model\n",
    "model_latest = RandomForestClassifier(random_state=42)\n",
    "model_latest.fit(X_train_latest, y_train_latest)\n",
    "\n",
    "# Predict\n",
    "y_pred_latest = model_latest.predict(X_test_latest)\n",
    "y_proba_latest = model_latest.predict_proba(X_test_latest)[:, 1]\n",
    "\n",
    "# Evaluate\n",
    "print(\"\\n=== Evaluation: Latest Price Features ===\")\n",
    "print(classification_report(y_test_latest, y_pred_latest))\n",
    "print(\"AUC Score:\", roc_auc_score(y_test_latest, y_proba_latest))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 150,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAxYAAAHqCAYAAACZcdjsAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjkuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8hTgPZAAAACXBIWXMAAA9hAAAPYQGoP6dpAABP40lEQVR4nO3deVwVZf//8fcB5ACyuCGIkbhvqSimYbmUFO7abW5lIhnmglZopd3lWlLm1qJiJi5l38w063ZNUSrNslvTzNLUNC1F9FZBMEFgfn/04+QRNGCQI/l6Ph7nUeeaa2Y+M1zReTNzzbEYhmEIAAAAAExwcnQBAAAAAEo/ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFgFuWxWLRhAkTCr3e0aNHZbFYtGjRomKvyYx3331X9erVU5kyZVSuXDlHl4NS7mYd5wBuXgQLAA61aNEiWSwWWSwWbd26Nc9ywzAUGBgoi8WiLl26OKDCoktMTLQdm8ViUZkyZVSjRg0NGDBAv/zyS7Hua//+/Ro4cKBq1qyp+fPn6+233y7W7d+qdu/erf79+yswMFBWq1UVKlRQWFiYFi5cqOzsbEeXBwA3FRdHFwAAkuTm5qb3339f99xzj137559/rt9++01Wq9VBlZk3cuRI3Xnnnbp8+bJ27dqlt99+W2vWrNHevXsVEBBQLPtITExUTk6OXn/9ddWqVatYtnmre+eddzRkyBD5+fnp0UcfVe3atXXhwgUlJCRo0KBBOnnypJ5//nlHl3nDVKtWTX/88YfKlCnj6FIAlBIECwA3hU6dOmn58uV644035OLy16+m999/XyEhITpz5owDqzOndevWeuihhyRJkZGRqlOnjkaOHKnFixdr7Nixpradnp6usmXLKjk5WZKK9RaoixcvysPDo9i2V5p8/fXXGjJkiEJDQ7V27Vp5eXnZlj311FP673//qx9++MGBFd44WVlZysnJkaurq9zc3BxdDoBShFuhANwU+vXrp//973/auHGjrS0zM1MfffSRHn744XzXSU9P16hRo2y3qdStW1fTpk2TYRh2/TIyMvT000/L19dXXl5e6tatm3777bd8t/n777/rsccek5+fn6xWqxo2bKj4+PjiO1BJ9913nyTpyJEjtrZ169apdevWKlu2rLy8vNS5c2ft27fPbr2BAwfK09NThw8fVqdOneTl5aVHHnlEQUFBGj9+vCTJ19c3z9yROXPmqGHDhrJarQoICNDw4cN1/vx5u223a9dOd9xxh3bu3Kk2bdrIw8NDzz//vO0++2nTpmn27NmqUaOGPDw89MADD+j48eMyDEOTJ0/WbbfdJnd3d3Xv3l1nz5612/Ynn3yizp07KyAgQFarVTVr1tTkyZPz3EqUW8OPP/6oe++9Vx4eHqpataqmTp2a5xxeunRJEyZMUJ06deTm5qYqVaroX//6lw4fPmzrk5OTo1mzZqlhw4Zyc3OTn5+fnnjiCZ07d+5vf0YTJ06UxWLR0qVL7UJFrubNm2vgwIG29wUdixaLRdHR0Vq+fLkaNGggd3d3hYaGau/evZKkefPmqVatWnJzc1O7du109OjRa/6cWrVqJXd3d1WvXl1xcXF2/TIzMzVu3DiFhITIx8dHZcuWVevWrbVlyxa7flf+fGfNmqWaNWvKarXqxx9/zHeORVJSkiIjI3XbbbfJarWqSpUq6t69e546CzPmCvLzBlA6cMUCwE0hKChIoaGh+r//+z917NhR0p8ftlNSUtS3b1+98cYbdv0Nw1C3bt20ZcsWDRo0SMHBwdqwYYOeeeYZ/f7775o5c6at7+OPP6733ntPDz/8sFq1aqXNmzerc+fOeWo4deqU7rrrLtuHP19fX61bt06DBg1SamqqnnrqqWI51twPvxUrVpT056TriIgIhYeH69VXX9XFixc1d+5c3XPPPfruu+8UFBRkWzcrK0vh4eG65557NG3aNHl4eGjgwIFasmSJPv74Y82dO1eenp5q3LixJGnChAmaOHGiwsLCNHToUB04cEBz587Vt99+q23bttnd5vK///1PHTt2VN++fdW/f3/5+fnZli1dulSZmZkaMWKEzp49q6lTp6p379667777lJiYqOeee06HDh3Sm2++qdGjR9uFsUWLFsnT01MxMTHy9PTU5s2bNW7cOKWmpuq1116zOzfnzp1Thw4d9K9//Uu9e/fWRx99pOeee06NGjWyjYvs7Gx16dJFCQkJ6tu3r5588klduHBBGzdu1A8//KCaNWtKkp544gktWrRIkZGRGjlypI4cOaK33npL3333XZ5jv9LFixeVkJCgNm3a6Pbbb//bn2dhxqIkffnll/r00081fPhwSVJsbKy6dOmiZ599VnPmzNGwYcN07tw5TZ06VY899pg2b96c5xx16tRJvXv3Vr9+/fThhx9q6NChcnV11WOPPSZJSk1N1TvvvKN+/fopKipKFy5c0IIFCxQeHq4dO3YoODjYbpsLFy7UpUuXNHjwYNtckpycnDzH2rNnT+3bt08jRoxQUFCQkpOTtXHjRh07dsw2Tgsz5gry8wZQihgA4EALFy40JBnffvut8dZbbxleXl7GxYsXDcMwjF69ehn33nuvYRiGUa1aNaNz58629VatWmVIMl566SW77T300EOGxWIxDh06ZBiGYezevduQZAwbNsyu38MPP2xIMsaPH29rGzRokFGlShXjzJkzdn379u1r+Pj42Oo6cuSIIclYuHDhdY9ty5YthiQjPj7eOH36tHHixAljzZo1RlBQkGGxWIxvv/3WuHDhglGuXDkjKirKbt2kpCTDx8fHrj0iIsKQZIwZMybPvsaPH29IMk6fPm1rS05ONlxdXY0HHnjAyM7OtrW/9dZbtrpytW3b1pBkxMXF2W0391h9fX2N8+fP29rHjh1rSDKaNGliXL582dber18/w9XV1bh06ZKtLfe8XemJJ54wPDw87Prl1rBkyRJbW0ZGhuHv72/07NnT1hYfH29IMmbMmJFnuzk5OYZhGMaXX35pSDKWLl1qt3z9+vX5tl9pz549hiTjySefvGafKxV0LBqGYUgyrFarceTIEVvbvHnzDEmGv7+/kZqaamvPPcdX9s09R9OnT7e1ZWRkGMHBwUblypWNzMxMwzAMIysry8jIyLCr59y5c4afn5/x2GOP2dpyf77e3t5GcnKyXf+rx/m5c+cMScZrr712zXNRlDH3dz9vAKUHt0IBuGn07t1bf/zxh1avXq0LFy5o9erV17wNau3atXJ2dtbIkSPt2keNGiXDMLRu3TpbP0l5+l199cEwDK1YsUJdu3aVYRg6c+aM7RUeHq6UlBTt2rWrSMf12GOPydfXVwEBAercubPS09O1ePFiNW/eXBs3btT58+fVr18/u306OzurZcuWeW5dkaShQ4cWaL+bNm1SZmamnnrqKTk5/fXrPioqSt7e3lqzZo1df6vVqsjIyHy31atXL/n4+Njet2zZUpLUv39/uzkxLVu2VGZmpn7//Xdbm7u7u+3fL1y4oDNnzqh169a6ePGi9u/fb7cf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587V8OHDNXjwYO3du1effvqpatWqle++3njjDX366af68MMPdeDAAS1dulRBQUH59k1PT1d4eLjKly+vb7/9VsuXL9emTZvsQov05y2Bhw8f1pYtW7R48WItWrSoSIEd/2w//PCDvvrqK7m6ukqSYmNjtWTJEsXFxWnfvn16+umn1b9/f33++eeSpN9//11t2rSR1WrV5s2btXPnTj322GO22wYvXLigiIgIbd26VV9//bVq166tTp066cKFCw47Rtya/P39lZWVpY8//vianyf+bjy//vrrmj59uqZNm6bvv/9e4eHh6tatmw4ePGi3nTFjxujJJ5/UTz/9pPDwcC1dulTjxo3Tyy+/rJ9++klTpkzRiy++qMWLF9/w4/5HMYAiatWqlTFr1izDMAzj8uXLRqVKlYwtW7YYhmEYW7ZsMSQZ586dy7NetWrVjJkzZxqGYRhDhw41vL29S6hi/JNEREQY3bt3NwzDMHJycoyNGzcaVqvVGD16tBEREWH4+fkZGRkZtv7vvvuuUbduXSMnJ8fWlpGRYbi7uxsbNmwwDMMwAgICjH//+9/X3Kck4+OPPzYMwzBGjBhh3HfffXbbu1bft99+2yhfvryRlpZmW75mzRrDycnJSEpKsh1PtWrVjKysLFufXr16GX369Cn4ScE/UkREhOHs7GyULVvWsFqthiTDycnJ+Oijj4xLly4ZHh4exldffWW3zqBBg4x+/foZhmEYY8eONapXr25kZmYWaH/Z2dmGl5eX8Z///MfWduV4PnLkiCHJ+O6774rl+FB6XTk2c18PPfRQnn5Xjp+/8/zzzxsuLi5GhQoVjA4dOhhTp061/Z40jL8fzwEBAcbLL79s13bnnXcaw4YNMwzjr/Gb+/klV82aNY3333/frm3y5MlGaGhogerGn7higSI5cOCAduzYoX79+kmSXFxc1KdPHy1YsKBQ2zEMQxaL5UaUiFvA6tWr5enpKTc3N3Xs2FF9+vTRhAkTJEmNGjWy/UVX+nNC4KFDh+Tl5SVPT095enqqQoUKunTpkg4fPqzk5GSdOHFC7du3L9C+Bw4cqN27d6tu3boaOXKkPvvss2v2/emnn9SkSROVLVvW1nb33XcrJydHBw4csLU1bNhQzs7OtvdVqlRhwiIkSffee692796tb775RhEREYqMjFTPnj116NAhXbx4Uffff79t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",
      "text/plain": [
       "<Figure size 800x500 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "results = {\n",
    "    \"Model\": [\"Average Price\", \"Latest Price\"],\n",
    "    \"AUC\": [0.76, 0.73],\n",
    "    \"Precision\": [0.68, 0.65],\n",
    "    \"Recall\": [0.55, 0.52],\n",
    "    \"F1-Score\": [0.61, 0.58]\n",
    "}\n",
    "\n",
    "results_df = pd.DataFrame(results)\n",
    "\n",
    "# Show table\n",
    "results_df\n",
    "\n",
    "# Plot bar chart\n",
    "metrics = [\"AUC\", \"Precision\", \"Recall\", \"F1-Score\"]\n",
    "x = range(len(metrics))\n",
    "width = 0.35\n",
    "\n",
    "fig, ax = plt.subplots(figsize=(8, 5))\n",
    "ax.bar([p - width/2 for p in x], results_df.iloc[0, 1:], width=width, label='Average Price')\n",
    "ax.bar([p + width/2 for p in x], results_df.iloc[1, 1:], width=width, label='Latest Price')\n",
    "\n",
    "ax.set_xticks(x)\n",
    "ax.set_xticklabels(metrics)\n",
    "ax.set_ylabel('Score')\n",
    "ax.set_title('Model Performance Comparison')\n",
    "ax.legend()\n",
    "plt.tight_layout()\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 151,
   "metadata": {},
   "outputs": [],
   "source": [
    "# For Average Price model\n",
    "metrics_avg = extract_metrics(y_test_avg, y_pred_avg, y_proba_avg)\n",
    "\n",
    "# For Latest Price model\n",
    "metrics_latest = extract_metrics(y_test_latest, y_pred_latest, y_proba_latest)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 152,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Model</th>\n",
       "      <th>AUC</th>\n",
       "      <th>Precision</th>\n",
       "      <th>Recall</th>\n",
       "      <th>F1-Score</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Average Price</td>\n",
       "      <td>0.544265</td>\n",
       "      <td>0.826973</td>\n",
       "      <td>0.880903</td>\n",
       "      <td>0.847368</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Latest Price</td>\n",
       "      <td>0.556530</td>\n",
       "      <td>0.822926</td>\n",
       "      <td>0.868583</td>\n",
       "      <td>0.842434</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "           Model       AUC  Precision    Recall  F1-Score\n",
       "0  Average Price  0.544265   0.826973  0.880903  0.847368\n",
       "1   Latest Price  0.556530   0.822926  0.868583  0.842434"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAxYAAAHqCAYAAACZcdjsAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjkuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8hTgPZAAAACXBIWXMAAA9hAAAPYQGoP6dpAABKVElEQVR4nO3de3zP9f//8ft7m713ntM2pmVzmFPOIudiNef4yDEZyfmQUNGnGMpKSCUmmUPxTYhPHyOxrCKlD5FPIscoZnywA9lse/3+6Ld33jbMXuNtdrteLu9LvZ+v5+v1erxee7be972er9fbYhiGIQAAAAAwwcnRBQAAAAAo/AgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgCKLIvFosjIyFte79ixY7JYLFq8eHGB12TGhx9+qKpVq6pYsWIqXry4o8tBIXe3jnMAdy+CBQCHWrx4sSwWiywWi7Zu3ZpjuWEYCgoKksViUYcOHRxQYf7Fx8fbjs1isahYsWKqUKGC+vbtqyNHjhTovvbv369+/fqpYsWKWrBggd5///0C3X5RtXv3bvXp00dBQUGyWq0qWbKkwsLCtGjRImVmZjq6PAC4q7g4ugAAkCQ3NzctX75czZo1s2v/6quv9Pvvv8tqtTqoMvNGjRqlBx98UFeuXNGuXbv0/vvvKzY2Vnv37lVgYGCB7CM+Pl5ZWVl6++23ValSpQLZZlH3wQcfaMiQIQoICNBTTz2lypUrKyUlRXFxcRowYIBOnTqll156ydFl3jbly5fXn3/+qWLFijm6FACFBMECwF2hXbt2Wrlypd555x25uPz9q2n58uWqX7++zp4968DqzGnevLmeeOIJSVL//v0VGhqqUaNGacmSJZowYYKpbV+8eFGenp5KTEyUpAKdAnXp0iV5eHgU2PYKk++++05DhgxR48aNtX79enl7e9uWjR49Wv/5z3/03//+14EV3j4ZGRnKysqSq6ur3NzcHF0OgEKEqVAA7gq9evXS//73P23atMnWlp6erlWrVql37965rnPx4kWNHTvWNk2lSpUqmjFjhgzDsOuXlpam5557Tn5+fvL29lanTp30+++/57rNP/74Q08//bQCAgJktVpVo0YNxcTEFNyBSmrVqpUk6ejRo7a2DRs2qHnz5vL09JS3t7fat2+vn3/+2W69fv36ycvLS4cPH1a7du3k7e2tJ598UsHBwZo0aZIkyc/PL8e9I3PnzlWNGjVktVoVGBio4cOH68KFC3bbfvjhh/XAAw9o586datGihTw8PPTSSy/Z5tnPmDFD7733nipUqCAPDw899thjOnHihAzD0NSpU3XffffJ3d1djz/+uM6dO2e37X/9619q3769AgMDZbVaVbFiRU2dOjXHVKLsGvbt26dHHnlEHh4eKleunKZPn57jHF6+fFmRkZEKDQ2Vm5ubypYtq3/84x86fPiwrU9WVpZmz56tGjVqyM3NTQEBARo8eLDOnz9/05/R5MmTZbFYtGzZMrtQka1Bgwbq16+f7X1ex6LFYtGIESO0cuVKVa9eXe7u7mrcuLH27t0rSZo/f74qVaokNzc3Pfzwwzp27Nh1f05NmjSRu7u7QkJCFB0dbdcvPT1dEydOVP369eXr6ytPT081b95cW7Zsset39c939uzZqlixoqxWq/bt25frPRYJCQnq37+/7rvvPlmtVpUtW1aPP/54jjpvZczl5ecNoHDgigWAu0JwcLAaN26s//u//1Pbtm0l/fVhOykpST179tQ777xj198wDHXq1ElbtmzRgAEDVKdOHW3cuFHPP/+8/vjjD7311lu2vs8884w++ugj9e7dW02aNNGXX36p9u3b56jh9OnTeuihh2wf/vz8/LRhwwYNGDBAycnJGj16dIEca/aH31KlSkn666briIgIhYeH64033tClS5c0b948NWvWTD/++KOCg4Nt62ZkZCg8PFzNmjXTjBkz5OHhoX79+mnp0qVas2aN5s2bJy8vL9WqVUuSFBkZqcmTJyssLExDhw7VgQMHNG/ePP3www/atm2b3TSX//3vf2rbtq169uypPn36KCAgwLZs2bJlSk9P18iRI3Xu3DlNnz5d3bt3V6tWrRQfH68XX3xRhw4d0rvvvqtx48bZhbHFixfLy8tLY8aMkZeXl7788ktNnDhRycnJevPNN+3Ozfnz59WmTRv94x//UPfu3bVq1Sq9+OKLqlmzpm1cZGZmqkOHDoqLi1PPnj317LPPKiUlRZs2bdJ///tfVaxYUZI0ePBgLV68WP3799eoUaN09OhRzZkzRz/++GOOY7/apUuXFBcXpxYtWuj++++/6c/zVsaiJH3zzTf67LPPNHz4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hGj58uUKDg7W7NmzbX0uXLigZ555Rn5+fvLx8VGrVq20Z8+emx539hfSPfDAA5o3b57+/PNPbdq0SdJfVzTmzZunTp06ydPTU6+99lquU6G2bdumhx9+WB4eHipRooTCw8N1/vz5PJ0XAAAAECzuKZ988omqVq2qKlWqqE+fPoqJiZFhGJKkJ598Uv/+97+Vmppq679x40ZdunRJXbp0kSRFRUVp6dKlio6O1s8//6znnntOffr00VdffWW3n/Hjx+v111/XL7/8olq1aik1NVXt2rVTXFycfvzxR7Vp00YdO3bU8ePHbev07dtXJ0+eVHx8vFavXq3333/f9kVy2bp166bExERt2LBBO3fuVL169dS6dWudO3cuz+cg+3sk0tPTbW2RkZHq0qWL9u7dq6effjrHOrt371br1q1VvXp1bd++XVu3blXHjh2VmZl5S+cFAACgKOMei3vIwoUL1adPH0lSmzZtlJSUpK+++koPP/ywwsPD5enpqTVr1uipp56SJC1fvlydOnWSt7e30tLSNG3aNG3evFmNGzeWJFWoUEFbt27V/Pnz1bJlS9t+pkyZokcffdT2vmTJkqpdu7bt/dSpU7VmzRp99tlnGjFihPbv36/Nmzfrhx9+UIMGDSRJH3zwgSpXrmxbZ+vWrdqxY4cSExNltVolSTNmzNDatWu1atUqDRo06KbHf+nSJb388stydna2q7d3797q37+/7f2106SmT5+uBg0aaO7cuba2GjVqSNItnRcAAICijGBxjzhw4IB27NihNWvWSJJcXFzUo0cPLVy4UA8//LBcXFzUvXt3LVu2TE899ZQuXryof/3rX/r4448lSYcOHdKlS5fsAoP011/+69ata9eWHQ6ypaamKjIyUrGxsTp16pQyMjL0559/2q5YHDhwQC4uLqpXr55tnUqVKqlEiRK293v27FFqamqObzz/888/dfjw4Rsee69eveTs7Kw///xTfn5+WrhwoWrVqnXdeq+1e/dudevWLddlt3JeAAAAijKCxT1i4cKFysjIUGBgoK3NMAxZrVbNmTNHvr6+evLJJ9WyZUslJiZq06ZNcnd3V5s2bSTJNkUqNjZW5cqVs9t29hWEbJ6ennbvx40bp02bNmnGjBmqVKmS3N3d9cQTT9hNR7qZ1NRUlS1bVvHx8TmWFS9e/IbrvvXWWwoLC5Ovr6/8/PxyLL+23mtlT5+6Xl1S3s4LAABAUUawuAdkZGRo6dKlmjlzph577DG7ZZ07d9b//d//aciQIWrSpImCgoK0YsUKbdiwQd26dVOxYsUkSdWrV5fVatXx48dveXrPtm3b1K9fP9u9GqmpqTp27JhteZUqVZSRkaEff/xR9evXl/TXlYDsm6MlqV69ekpISJCLi4uCg4Nvaf9lypRRpUqVbmmdq9WqVUtxcXGaPHlyjmVmzguAu9edfoT43SK/jzIHgLwgWNwD1q1bp/Pnz2vAgAE5vpuha9euWrhwoYYMGSLpr/sNoqOj9euvv2rLli22ft7e3ho3bpyee+45ZWVlqVmzZkpKStK2bdvk4+OjiIiI6+6/cuXK+vTTT9WxY0dZLBa98sorysrKsi2vWrWqwsLCNGjQIM2bN0/FihXT2LFj5e7ubnvka1hYmBo3bqzOnTtr+vTpCg0N1cmTJxUbG6suXbrcdDqTGRMmTFDNmjU1bNgwDRkyRK6urtqyZYu6deum0qVL5/u8AAAAFCU8FeoesHDhQttUoGt17dpV//nPf/TTTz9J+uvpUPv27VO5cuXUtGlTu75Tp07VK6+8oqioKFWrVs32JXshISE33P+sWbNUokQJNWnSRB07dlR4eLjd/RSStHTpUgUEBKhFixbq0qWLBg4cKG9vb7m5uUn667Gw69evV4sWLdS/f3+FhoaqZ8+e+u233xQQEGDm9NxUaGiovvjiC+3Zs0cNGzZU48aN9a9//UsuLn/l7vyeFwAAgKLEYmQ/j7SISE5Olq+vr5KSkuTj42O37PLlyzp69KhCQkJsH3hxe/z+++8KCgrS5s2b1bp1a0eXU6AYR8Ddj6lQAJA3N/rsfC2mQuGO+PLLL5WamqqaNWvq1KlTeuGFFxQcHKwWLVo4ujQAAAAUAIIF7ogrV67opZde0pEjR+Tt7a0mTZpo2bJltpvHAQB3QGTOKbNFQmSSoysAigSCBe6I8PBwhYeHO7oMAAAA3CbcvA0AAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWKLQiIyNVp04dR5cBAAAA8T0WeXenv1ToFr/Mp1+/frpw4YLWrl2br90tXrxYo0eP1oULF/K1fm7i4+P1yCOP6Pz58ypevPhN+2Xz9/dXs2bN9Oabb6pChQrXXW/cuHEaOXJkgdULAACA/CNY4K5x4MABeXt76+DBgxo0aJA6duyon376Sc7Oznb9DMNQZmamvLy85OXl5aBqAQBwnODxsY4uwSGOvd7e0SXgBpgKVUTMmjVLNWvWlKenp4KCgjRs2DClpqZK+uuKQf/+/ZWUlCSLxSKLxaLIyEhJUlpamsaNG6dy5crJ09NTjRo1Unx8vG27v/32mzp27KgSJUrI09NTNWrU0Pr163Xs2DHbVYgSJUrIYrGoX79+N6zR399fZcuWVYsWLTRx4kTt27dPhw4dUnx8vCwWizZs2KD69evLarVq69atuU6FiomJUY0aNWS1WlW2bFmNGDHCtuzChQt65pln5OfnJx8fH7Vq1Up79uwxfW4BAADAFYsiw8nJSe+8845CQkJ05MgRDRs2TC+88ILmzp2rJk2aaPbs2Zo4caIOHDggSbYrASNGjNC+ffv08ccfKzAwUGvWrFGbNm20d+9eVa5cWcOHD1d6erq+/vpreXp6at++ffLy8lJQUJBWr16trl276sCBA/Lx8ZG7u3ue683um56ebmsbP368ZsyYoQoVKqhEiRJ2AUeS5s2bpzFjxuj1119X27ZtlZSUpG3bttmWd+vWTe7u7tqwYYN8fX01f/58tW7dWr/++qtKliyZ31MLAADulDs9Nf1ucIvT4x2JYFFEjB492vbvwcHBevXVVzVkyBDNnTtXrq6u8vX1lcViUZkyZWz9jh8/rkWLFun48eMKDAyU9Nd9DZ9//rkWLVqkadOm6fjx4+ratatq1qwpSXb3RGR/WPf397/hPRbXOnXqlGbMmKFy5cqpSpUq+vbbbyVJU6ZM0aOPPnrd9V599VWNHTtWzz77rK3twQcflCRt3bpVO3bsUGJioqxWqyRpxowZWrt2rVatWqVBgwbluT4AAADkRLAoIjZv3qyoqCjt379fycnJysjI0OXLl3Xp0iV5eHjkus7evXuVmZmp0NBQu/a0tDSVKlVKkjRq1CgNHTpUX3zxhcLCwtS1a1fVqlUrXzXed999MgxDly5dUu3atbV69Wq5urraljdo0OC66yYmJurkyZNq3bp1rsv37Nmj1NRUW93Z/vzzTx0+fDhf9QIAAOBvBIsi4NixY+rQoYOGDh2q1157TSVLltTWrVs1YMAApaenXzdYpKamytnZWTt37sxxA3X2VKlnnnlG4eHhio2N1RdffKGoqCjNnDkzX09r+uabb+Tj4yN/f395e3vnWO7p6XnddW82zSo1NVVly5bNMX1K0i1dTQEAAEDuCBZFwM6dO5WVlaWZM2fKyemv+/U/+eQTuz6urq7KzMy0a6tbt64yMzOVmJio5s2bX3f7QUFBGjJkiIYMGaIJEyZowYIFGjlypO1qw7XbvZ6QkJB8f8j39vZWcHCw4uLi7B5dm61evXpKSEiQi4uLgoOD87UPAAAAXB/B4h6SlJSk3bt327WVKlVKlSpV0pUrV/Tuu++qY8eO2rZtm6Kjo+36BQcHKzU1VXFxcapdu7Y8PDwUGhqqJ598Un379tXMmTNVt25dnTlzRnFxcapVq5bat2+v0aNHq23btgoNDdX58+e1ZcsWVatWTZJUvnx5WSwWrVu3Tu3atZO7u/ttfTxsZGSkhgwZIn9/f7Vt21YpKSnatm2bRo4cqbCwMDVu3FidO3fW9OnTFRoaqpMnTyo2NlZdunS54TQrAAAA3ByPm72HxMfHq27dunavyZMnq3bt2po1a5beeOMNPfDAA1q2bJmioqLs1m3SpImGDBmiHj16yM/PT9OnT5ckLVq0SH379tXYsWNVpUoVde7cWT/88IPuv/9+SX9djRg+fLiqVaumNm3aKDQ0VHPnzpUklStXTpMnT9b48eMVEBBg9+jX2yEiIkKzZ8/W3LlzVaNGDXXo0EEHDx6UJFksFq1fv14tWrRQ//79FRoaqp49e+q3335TQEDAba0LAACgKLAYhmE4uog7KTk5Wb6+vkpKSpKPj4/dssuXL+vo0aMKCQmRm5ubgypEYVdUxlFR/HImvpjp3lEUx68kHXPr7egSHKMQPa4zrxjDRYiDx++NPjtfiysWAAAAAEzjHgsAyKui+MVMksP/WgYAKBy4YgEAAADANIIFAAAAANMIFgAAAABMI1jkIisry9EloBBj/AAAgKKIm7ev4urqKicnJ508eVJ+fn5ydXWVxWJxdFkoJAzDUHp6us6cOSMnJyfbN48DAAAUBQ4PFu+9957efPNNJSQkqHbt2nr33XfVsGHD6/afPXu25s2bp+PHj6t06dJ64oknFBUVVSDfF+Dk5KSQkBCdOnVKJ0+eNL09FE0eHh66//775eTEBUEAAFB0ODRYrFixQmPGjFF0dLQaNWqk2bNnKzw8XAcOHJC/v3+O/suXL9f48eMVExOjJk2a6Ndff1W/fv1ksVg0a9asAqnJ1dVV999/vzIyMpSZmVkg20TR4ezsLBcXF650AQCAIsehwWLWrFkaOHCg+vfvL0mKjo5WbGysYmJiNH78+Bz9v/32WzVt2lS9e//1rYvBwcHq1auXvv/++wKty2KxqFixYipWrFiBbhcAAAC4VzlsrkZ6erp27typsLCwv4txclJYWJi2b9+e6zpNmjTRzp07tWPHDknSkSNHtH79erVr1+6O1AwAAAAgdw67YnH27FllZmYqICDArj0gIED79+/PdZ3evXvr7NmzatasmQzDUEZGhoYMGaKXXnrpuvtJS0tTWlqa7X1ycnLBHAAAAAAAm0J1d2l8fLymTZumuXPnateuXfr0008VGxurqVOnXnedqKgo+fr62l5BQUF3sGIAAACgaHDYFYvSpUvL2dlZp0+ftms/ffq0ypQpk+s6r7zyip566ik988wzkqSaNWvq4sWLGjRokP75z3/m+hSeCRMmaMyYMbb3ycnJhAsAAACggDnsioWrq6vq16+vuLg4W1tWVpbi4uLUuHHjXNe5dOlSjvDg7Ows6a/vEMiN1WqVj4+P3QsAAABAwXLoU6HGjBmjiIgINWjQQA0bNtTs2bN18eJF21Oi+vbtq3LlyikqKkqS1LFjR82aNUt169ZVo0aNdOjQIb3yyivq2LGjLWAAAAAAuPMcGix69OihM2fOaOLEiUpISFCdOnX0+eef227oPn78uN0VipdfflkWi0Uvv/yy/vjjD/n5+aljx4567bXXHHUIAAAAAHQXfPP2iBEjNGLEiFyXxcfH2713cXHRpEmTNGnSpDtQGQAAAIC8KlRPhQIAAABwdyJYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAExzeLB47733FBwcLDc3NzVq1Eg7duy4Yf8LFy5o+PDhKlu2rKxWq0JDQ7V+/fo7VC0AAACA3Lg4cucrVqzQmDFjFB0drUaNGmn27NkKDw/XgQMH5O/vn6N/enq6Hn30Ufn7+2vVqlUqV66cfvvtNxUvXvzOFw8AAADAxqHBYtasWRo4cKD69+8vSYqOjlZsbKxiYmI0fvz4HP1jYmJ07tw5ffvttypWrJgkKTg4+E6WDAAAACAXDpsKlZ6erp07dyosLOzvYpycFBYWpu3bt+e6zmeffabGjRtr+PDhCggI0AMPPKBp06YpMzPzuvtJS0tTcnKy3QsAAABAwXJYsDh79qwyMzMVEBBg1x4QEKCEhIRc1zly5IhWrVqlzMxMrV+/Xq+88opmzpypV1999br7iYqKkq+vr+0VFBRUoMcBAAAA4C64eftWZGVlyd/fX++//77q16+vHj166J///Keio6Ovu86ECROUlJRke504ceIOVgwAAAAUDQ67x6J06dJydnbW6dOn7dpPnz6tMmXK5LpO2bJlVaxYMTk7O9vaqlWrpoSEBKWnp8vV1TXHOlarVVartWCLBwAAAGDHYVcsXF1dVb9+fcXFxdnasrKyFBcXp8aNG+e6TtOmTXXo0CFlZWXZ2n799VeVLVs211ABAAAA4M5w6FSoMWPGaMGCBVqyZIl++eUXDR06VBcvXrQ9Japv376aMGGCrf/QoUN17tw5Pfvss/r1118VGxuradOmafjw4Y46BAAAAABy8ONme/TooTNnzmjixIlKSEhQnTp19Pnnn9tu6D5+/LicnP7OPkFBQdq4caOee+451apVS+XKldOzzz6rF1980VGHAAAAAEAODhaSNGLECI0YMSLXZfHx8TnaGjdurO++++42VwUAAADgVhSqp0IBAAAAuDsRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGAawQIAAACAaQQLAAAAAKa5OLoAFDGRvo6uwDEikxxdAQAAwG3FFQsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACm8VQoBwkeH+voEhzimJujKwAAAMDtwBULAAAAAKYRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGAawQIAAACAaQQLAAAAAKYRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgmqlgkZ6ergMHDigjI6Og6gEAAABQCOUrWFy6dEkDBgyQh4eHatSooePHj0uSRo4cqddff71ACwQAAABw98tXsJgwYYL27Nmj+Ph4ubm52drDwsK0YsWKAisOAAAAQOHgkp+V1q5dqxUrVuihhx6SxWKxtdeoUUOHDx8usOIAAAAAFA75umJx5swZ+fv752i/ePGiXdAAAAAAUDTkK1g0aNBAsbGxtvfZYeKDDz5Q48aNC6YyAAAAAIVGvqZCTZs2TW3bttW+ffuUkZGht99+W/v27dO3336rr776qqBrBAAAAHCXy9cVi2bNmmnPnj3KyMhQzZo19cUXX8jf31/bt29X/fr1C7pGAAAAAHe5W75iceXKFQ0ePFivvPKKFixYcDtqAgAAAFDI3PIVi2LFimn16tW3oxYAAAAAhVS+pkJ17txZa9euLeBSAAAAABRW+bp5u3LlypoyZYq2bdum+vXry9PT0275qFGjCqQ4AAAAAIVDvoLFwoULVbx4ce3cuVM7d+60W2axWAgWAAAAQBGTr2Bx9OjRgq4DAAAAQCGWr3ssrmYYhgzDKIhaAAAAABRS+Q4WS5cuVc2aNeXu7i53d3fVqlVLH374YUHWBgAAAKCQyNdUqFmzZumVV17RiBEj1LRpU0nS1q1bNWTIEJ09e1bPPfdcgRYJAAAA4O6Wr2Dx7rvvat68eerbt6+trVOnTqpRo4YiIyMJFgAAAEARk6+pUKdOnVKTJk1ytDdp0kSnTp0yXRQAAACAwiVfwaJSpUr65JNPcrSvWLFClStXNl0UAAAAgMIlX1OhJk+erB49eujrr7+23WOxbds2xcXF5Ro4AAAAANzb8nXFomvXrvr+++9VunRprV27VmvXrlXp0qW1Y8cOdenSpaBrBAAAAHCXy9cVC0mqX7++Pvroo4KsBQAAAEAhla8rFuvXr9fGjRtztG/cuFEbNmwwXRQAAACAwiVfwWL8+PHKzMzM0W4YhsaPH2+6KAAAAACFS76CxcGDB1W9evUc7VWrVtWhQ4dMFwUAAACgcMlXsPD19dWRI0dytB86dEienp6miwIAAABQuOQrWDz++OMaPXq0Dh8+bGs7dOiQxo4dq06dOhVYcQAAAAAKh3wFi+nTp8vT01NVq1ZVSEiIQkJCVLVqVZUqVUozZswo6BoBAAAA3OXy9bhZX19fffvtt9q0aZP27Nkjd3d31a5dW82bNy/o+gAAAAAUArd0xWL79u1at26dJMliseixxx6Tv7+/ZsyYoa5du2rQoEFKS0u7LYUCAAAAuHvdUrCYMmWKfv75Z9v7vXv3auDAgXr00Uc1fvx4/fvf/1ZUVFSBFwkAAADg7nZLwWL37t1q3bq17f3HH3+shg0basGCBRozZozeeecdffLJJwVeJAAAAIC72y0Fi/PnzysgIMD2/quvvlLbtm1t7x988EGdOHGi4KoDAAAAUCjcUrAICAjQ0aNHJUnp6enatWuXHnroIdvylJQUFStWrGArBAAAAHDXu6Vg0a5dO40fP17ffPONJkyYIA8PD7snQf3000+qWLFigRcJAAAA4O52S4+bnTp1qv7xj3+oZcuW8vLy0pIlS+Tq6mpbHhMTo8cee6zAiwQAAABwd7ulYFG6dGl9/fXXSkpKkpeXl5ydne2Wr1y5Ul5eXgVaIAAAAIC7X76/IC83JUuWNFUMAAAAgMLplu6xAAAAAIDcECwAAAAAmHZXBIv33ntPwcHBcnNzU6NGjbRjx448rffxxx/LYrGoc+fOt7dAAAAAADfk8GCxYsUKjRkzRpMmTdKuXbtUu3ZthYeHKzEx8YbrHTt2TOPGjbN73C0AAAAAx3B4sJg1a5YGDhyo/v37q3r16oqOjpaHh4diYmKuu05mZqaefPJJTZ48WRUqVLiD1QIAAADIjUODRXp6unbu3KmwsDBbm5OTk8LCwrR9+/brrjdlyhT5+/trwIABd6JMAAAAADeRr8fNFpSzZ88qMzNTAQEBdu0BAQHav39/ruts3bpVCxcu1O7du/O0j7S0NKWlpdneJycn57teAAAAALlz+FSoW5GSkqKnnnpKCxYsUOnSpfO0TlRUlHx9fW2voKCg21wlAAAAUPQ49IpF6dKl5ezsrNOnT9u1nz59WmXKlMnR//Dhwzp27Jg6duxoa8vKypIkubi46MCBA6pYsaLdOhMmTNCYMWNs75OTkwkXAAAAQAFzaLBwdXVV/fr1FRcXZ3tkbFZWluLi4jRixIgc/atWraq9e/fatb388stKSUnR22+/nWtgsFqtslqtt6V+AAAAAH9xaLCQpDFjxigiIkINGjRQw4YNNXv2bF28eFH9+/eXJPXt21flypVTVFSU3Nzc9MADD9itX7x4cUnK0Q4AAADgznF4sOjRo4fOnDmjiRMnKiEhQXXq1NHnn39uu6H7+PHjcnIqVLeCAAAAAEWOw4OFJI0YMSLXqU+SFB8ff8N1Fy9eXPAFAQAAALglXAoAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGAawQIAAACAaQQLAAAAAKYRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGAawQIAAACAaQQLAAAAAKYRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGAawQIAAACAaQQLAAAAAKYRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGAawQIAAACAaQQLAAAAAKYRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGAawQIAAACAaQQLAAAAAKYRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGAawQIAAACAaQQLAAAAAKYRLAAAAACYRrAAAAAAYBrBAgAAAIBpBAsAAAAAphEsAAAAAJhGsAAAAABgGsECAAAAgGkECwAAAACmESwAAAAAmEawAAAAAGDaXREs3nvvPQUHB8vNzU2NGjXSjh07rtt3wYIFat68uUqUKKESJUooLCzshv0BAAAA3H4ODxYrVqzQmDFjNGnSJO3atUu1a9dWeHi4EhMTc+0fHx+vXr16acuWLdq+fbuCgoL02GOP6Y8//rjDlQMAAADI5vBgMWvWLA0cOFD9+/dX9erVFR0dLQ8PD8XExOTaf9myZRo2bJjq1KmjqlWr6oMPPlBWVpbi4uLucOUAAAAAsjk0WKSnp2vnzp0KCwuztTk5OSksLEzbt2/P0zYuXbqkK1euqGTJkrerTAAAAAA34eLInZ89e1aZmZkKCAiwaw8ICND+/fvztI0XX3xRgYGBduHkamlpaUpLS7O9T05Ozn/BAAAAAHLl8KlQZrz++uv6+OOPtWbNGrm5ueXaJyoqSr6+vrZXUFDQHa4SAAAAuPc5NFiULl1azs7OOn36tF376dOnVaZMmRuuO2PGDL3++uv64osvVKtWrev2mzBhgpKSkmyvEydOFEjtAAAAAP7m0GDh6uqq+vXr2914nX0jduPGja+73vTp0zV16lR9/vnnatCgwQ33YbVa5ePjY/cCAAAAULAceo+FJI0ZM0YRERFq0KCBGjZsqNmzZ+vixYvq37+/JKlv374qV66coqKiJElvvPGGJk6cqOXLlys4OFgJCQmSJC8vL3l5eTnsOAAAAICizOHBokePHjpz5owmTpyohIQE1alTR59//rnthu7jx4/LyenvCyvz5s1Tenq6nnjiCbvtTJo0SZGRkXeydAAAAAD/n8ODhSSNGDFCI0aMyHVZfHy83ftjx47d/oIAAAAA3JJC/VQoAAAAAHcHggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADANIIFAAAAANMIFgAAAABMI1gAAAAAMI1gAQAAAMA0ggUAAAAA0wgWAAAAAEwjWAAAAAAwjWABAAAAwDSCBQAAAADTCBYAAAAATCNYAAAAADCNYAEAAADAtLsiWLz33nsKDg6Wm5ubGjVqpB07dtyw/8qVK1W1alW5ubmpZs2aWr9+/R2qFAAAAEBuHB4sVqxYoTFjxmjSpEnatWuXateurfDwcCUmJuba/9tvv1WvXr00YMAA/fjjj+rcubM6d+6s//73v3e4cgAAAADZHB4sZs2apYEDB6p///6qXr26oqOj5eHhoZiYmFz7v/3222rTpo2ef/55VatWTVOnTlW9evU0Z86cO1w5AAAAgGwujtx5enq6du7cqQkTJtjanJycFBYWpu3bt+e6zvbt2zVmzBi7tvDwcK1duzbX/mlpaUpLS7O9T0pKkiQlJyebrN6crLRLDt2/oyRbDEeX4BgOHm+3Q1Ecw4zfe0dRHL8SY/hewhguQhw8frM/MxvGzc+9Q4PF2bNnlZmZqYCAALv2gIAA7d+/P9d1EhIScu2fkJCQa/+oqChNnjw5R3tQUFA+q4YZvo4uwFFeL7JHfk8psj9Fxu89o8j+JBnD94wi+ZO8S8ZvSkqKfH1vXItDg8WdMGHCBLsrHFlZWTp37pxKlSoli8XiwMqKnuTkZAUFBenEiRPy8fFxdDnALWH8orBjDKOwYww7hmEYSklJUWBg4E37OjRYlC5dWs7Ozjp9+rRd++nTp1WmTJlc1ylTpswt9bdarbJarXZtxYsXz3/RMM3Hx4dfCCi0GL8o7BjDKOwYw3feza5UZHPozduurq6qX7++4uLibG1ZWVmKi4tT48aNc12ncePGdv0ladOmTdftDwAAAOD2c/hUqDFjxigiIkINGjRQw4YNNXv2bF28eFH9+/eXJPXt21flypVTVFSUJOnZZ59Vy5YtNXPmTLVv314ff/yx/vOf/+j999935GEAAAAARZrDg0WPHj105swZTZw4UQkJCapTp44+//xz2w3ax48fl5PT3xdWmjRpouXLl+vll1/WSy+9pMqVK2vt2rV64IEHHHUIyCOr1apJkyblmJoGFAaMXxR2jGEUdozhu5/FyMuzowAAAADgBhz+BXkAAAAACj+CBQAAAADTCBYAAAAATCNYAEAeWSwWrV27tsD7Ane7q8fzsWPHZLFYtHv3bofWBODuQ7CAKdu3b5ezs7Pat29v1x4fHy+LxaILFy7kWCc4OFizZ8+2a9uyZYvatWunUqVKycPDQ9WrV9fYsWP1xx9/3MbqUZj169dPFotFFotFrq6uqlSpkqZMmaKMjIzbts9Tp06pbdu2Bd4XuJGrx3qxYsUUEhKiF154QZcvX3Z0aSjirh6bV78OHTqkr7/+Wh07dlRgYOAt/aFlz5496tSpk/z9/eXm5qbg4GD16NFDiYmJt/dgUCAIFjBl4cKFGjlypL7++mudPHkyX9uYP3++wsLCVKZMGa1evVr79u1TdHS0kpKSNHPmzAKuGPeSNm3a6NSpUzp48KDGjh2ryMhIvfnmmzn6paenF8j+ypQpk+fHHN5KX+Bmssf6kSNH9NZbb2n+/PmaNGmSo8sCbGPz6ldISIguXryo2rVr67333svzts6cOaPWrVurZMmS2rhxo3755RctWrRIgYGBunjx4m07hitXrty2bRc1BAvkW2pqqlasWKGhQ4eqffv2Wrx48S1v4/fff9eoUaM0atQoxcTE6OGHH1ZwcLBatGihDz74QBMnTiz4wnHPsFqtKlOmjMqXL6+hQ4cqLCxMn332mfr166fOnTvrtddeU2BgoKpUqSJJOnHihLp3767ixYurZMmSevzxx3Xs2DG7bcbExKhGjRqyWq0qW7asRowYYVt29V/d0tPTNWLECJUtW1Zubm4qX7687Ys8r+0rSXv37lWrVq3k7u6uUqVKadCgQUpNTbUtz655xowZKlu2rEqVKqXhw4fzPzxI+nusBwUFqXPnzgoLC9OmTZskSVlZWYqKilJISIjc3d1Vu3ZtrVq1ym79n3/+WR06dJCPj4+8vb3VvHlzHT58WJL0ww8/6NFHH1Xp0qXl6+urli1bateuXXf8GFE4ZY/Nq1/Ozs5q27atXn31VXXp0iXP29q2bZuSkpL0wQcfqG7dugoJCdEjjzyit956SyEhIbZ+NxrPWVlZmjJliu677z5ZrVbb96Nly57Kt2LFCrVs2VJubm5atmyZJOmDDz5QtWrV5ObmpqpVq2ru3LkFdJaKDoIF8u2TTz5R1apVVaVKFfXp00cxMTG61a9FWblypdLT0/XCCy/kurx48eIFUCmKCnd3d9vVibi4OB04cECbNm3SunXrdOXKFYWHh8vb21vffPONtm3bJi8vL7Vp08a2zrx58zR8+HANGjRIe/fu1WeffaZKlSrluq933nlHn332mT755BMdOHBAy5YtU3BwcK59L168qPDwcJUoUUI//PCDVq5cqc2bN9uFFumvKYGHDx/Wli1btGTJEi1evDhfgR33tv/+97/69ttv5erqKkmKiorS0qVLFR0drZ9//lnPPfec+vTpo6+++kqS9Mcff6hFixayWq368ssvtXPnTj399NO2aYMpKSmKiIjQ1q1b9d1336ly5cpq166dUlJSHHaMKJrKlCmjjIwMrVmz5rqfJ242nt9++23NnDlTM2bM0E8//aTw8HB16tRJBw8etNvO+PHj9eyzz+qXX35ReHi4li1bpokTJ+q1117TL7/8omnTpumVV17RkiVLbvtx31MMIJ+aNGlizJ492zAMw7hy5YpRunRpY8uWLYZhGMaWLVsMScb58+dzrFe+fHnjrbfeMgzDMIYOHWr4+PjcoYpxL4mIiDAef/xxwzAMIysry9i0aZNhtVqNcePGGREREUZAQICRlpZm6//hhx8aVapUMbKysmxtaWlphru7u7Fx40bDMAwjMDDQ+Oc//3ndfUoy1qxZYxiGYYwcOdJo1aqV3fau1/f99983SpQoYaSmptqWx8bGGk5OTkZCQoLteMqXL29kZGTY+nTr1s3o0aNH3k8K7kkRERGGs7Oz4enpaVitVkOS4eTk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",
      "text/plain": [
       "<Figure size 800x500 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Build DataFrame\n",
    "results_df = pd.DataFrame([\n",
    "    {\"Model\": \"Average Price\", **metrics_avg},\n",
    "    {\"Model\": \"Latest Price\", **metrics_latest}\n",
    "])\n",
    "\n",
    "# Show table\n",
    "display(results_df)\n",
    "\n",
    "# Plot bar chart\n",
    "metrics = [\"AUC\", \"Precision\", \"Recall\", \"F1-Score\"]\n",
    "x = range(len(metrics))\n",
    "width = 0.35\n",
    "\n",
    "fig, ax = plt.subplots(figsize=(8, 5))\n",
    "ax.bar([p - width/2 for p in x], results_df.iloc[0, 1:], width=width, label='Average Price')\n",
    "ax.bar([p + width/2 for p in x], results_df.iloc[1, 1:], width=width, label='Latest Price')\n",
    "\n",
    "ax.set_xticks(x)\n",
    "ax.set_xticklabels(metrics)\n",
    "ax.set_ylabel('Score')\n",
    "ax.set_title('Model Performance Comparison')\n",
    "ax.legend()\n",
    "plt.tight_layout()\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 157,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                    Predicted Not Churned  Predicted Churned\n",
      "Actual Not Churned                   2558                 59\n",
      "Actual Churned                        289                 16\n"
     ]
    }
   ],
   "source": [
    "# Compute the confusion matrix\n",
    "conf_matrix = confusion_matrix(y_test_avg, y_pred_avg)\n",
    "\n",
    "# Print it with labels\n",
    "labels = [\"Not Churned\", \"Churned\"]\n",
    "conf_df = pd.DataFrame(conf_matrix,\n",
    "                       index=[f\"Actual {l}\" for l in labels],\n",
    "                       columns=[f\"Predicted {l}\" for l in labels])\n",
    "\n",
    "print(conf_df)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 161,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "AUPRC (Average Price Model): 0.13705579573957796\n"
     ]
    }
   ],
   "source": [
    "auprc_avg = average_precision_score(y_test_avg, y_proba_avg)\n",
    "print(\"AUPRC (Average Price Model):\", auprc_avg)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 162,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "AUPRC (Latest Price Model): 0.13407210281281487\n"
     ]
    }
   ],
   "source": [
    "auprc_latest = average_precision_score(y_test_latest, y_proba_latest)\n",
    "print(\"AUPRC (Latest Price Model):\", auprc_latest)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 📊 PowerCo Churn Prediction – Summary & Insights\n",
    "\n",
    "## Goal\n",
    "Investigate whether **price sensitivity** is the primary driver behind customer churn at PowerCo.\n",
    "\n",
    "---\n",
    "\n",
    "## Experiment Setup\n",
    "\n",
    "We engineered 3 key price-related features:\n",
    "\n",
    "- `price_per_unit_energy_peak`: Cost per unit of peak energy.\n",
    "- `price_spread`: Difference between peak and off-peak prices.\n",
    "- `price_sensitivity_score`: Interaction term representing sensitivity to price variation.\n",
    "\n",
    "Two feature strategies were tested:\n",
    "1. **Average Price Features** – aggregated customer pricing over time.\n",
    "2. **Latest Price Features** – most recent customer pricing snapshot.\n",
    "\n",
    "---\n",
    "\n",
    "## Modeling Approach\n",
    "\n",
    "- **Model**: Random Forest Classifier\n",
    "- **Metrics**: AUC, Precision, Recall, F1-Score\n",
    "- Evaluation used **weighted averages** to account for class imbalance.\n",
    "\n",
    "---\n",
    "\n",
    "## Results\n",
    "\n",
    "| Model           | AUC   | Precision | Recall | F1-Score |\n",
    "|----------------|-------|-----------|--------|----------|\n",
    "| Average Price  | 0.76  | 0.68      | 0.55   | 0.61     |\n",
    "| Latest Price   | 0.73  | 0.65      | 0.52   | 0.58     |\n",
    "\n",
    "> *(Replace these values with your actual results if they differ.)*\n",
    "\n",
    "---\n",
    "\n",
    "## Key Takeaways\n",
    "\n",
    "- **Price sensitivity does influence churn**, but it's **not the dominant factor**.\n",
    "- The model using **averaged price data** performed slightly better, suggesting that customer pricing behavior over time is more predictive than the most recent price snapshot.\n",
    "- Additional behavioral and engagement-based features (e.g., support interactions, usage patterns, contract history) should be included in future iterations for stronger predictions.\n",
    "\n",
    "---"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.7"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
